export const meta = {
  title: 'Empty state',
  description:
    'The Empty State pattern provides the user with guidance on what steps to take if content is either unavailable or cannot be displayed.',
  slug: '/patterns/empty-state/',
};

import {Anchor} from '@twilio-paste/anchor';
import {Box} from '@twilio-paste/box';
import {Card} from '@twilio-paste/card';
import {Grid, Column} from '@twilio-paste/grid';
import {Heading} from '@twilio-paste/heading';
import {Paragraph} from '@twilio-paste/paragraph';
import {Table, Tr, Th, Td, THead, TBody} from '@twilio-paste/table';
import {Text} from '@twilio-paste/text';
import {useUID} from '@twilio-paste/uid-library';
import {Callout, CalloutText} from '@twilio-paste/callout';
import {
  AwaitingDataImage,
  ChangeRegionImage,
  CreateObjectImage,
  GenericDependencyImage,
  NoPermissionsImage,
  NoResultImage,
} from '../../../components/images/EmptyStateImages';
import {DoDont, Do, Dont} from '../../../components/DoDont';
import DefaultLayout from '../../../layouts/DefaultLayout';
import {getFeature, getNavigationData} from '../../../utils/api';

export default DefaultLayout;

export const getStaticProps = async () => {
  const navigationData = await getNavigationData();
  const feature = await getFeature('Empty state');
  return {
    props: {
      data: {
        ...feature,
      },
      navigationData,
    },
  };
};

<content>

<NormalizedPatternHeader description={meta.description} name={meta.title} data={props.data} />

</content>

---

<contentwrapper>

<PageAside data={mdxHeadings} />

<content>

## Ingredients

<Grid gutter="space30" marginBottom="space80">
  <Column>
    <Card>
      <Heading as="h3" variant="heading40" marginBottom="space0">
        <Anchor href="/components/card">Card</Anchor>
      </Heading>
    </Card>
  </Column>
  <Column>
    <Card>
      <Heading as="h3" variant="heading40" marginBottom="space0">
        <Anchor href="/components/heading">Heading</Anchor>
      </Heading>
    </Card>
  </Column>
  <Column>
    <Card>
      <Heading as="h3" variant="heading40" marginBottom="space0">
        <Anchor href="/components/paragraph">Paragraph</Anchor>
      </Heading>
    </Card>
  </Column>
</Grid>
<Grid gutter="space30" marginBottom="space80">
  <Column>
    <Card>
      <Heading as="h3" variant="heading40" marginBottom="space0">
        <Anchor href="/components/button">Button (optional)</Anchor>
      </Heading>
    </Card>
  </Column>
  <Column>
    <Card>
      <Heading as="h3" variant="heading40" marginBottom="space0">
        <Anchor href="/components/anchor">Anchor (optional)</Anchor>
      </Heading>
    </Card>
  </Column>
  <Column>
    <Card>
      <Heading as="h3" variant="heading40" marginBottom="space0">
        <Anchor href="/foundations/illustrations">Illustrations (optional)</Anchor>
      </Heading>
    </Card>
  </Column>
</Grid>

For Card sizing, go to the [Sizing & responsiveness section](/patterns/empty-state#sizing-and-responsiveness) for more details.

For illustrations, we recommend using a fixed width of `$size-20`. The illustration must be directly related to the message you’re communicating. Read more about [which illustrations to use for each use case](/patterns/empty-state#content-examples-by-use-case).

```jsx
// import all ingredients for the empty state patterns
import {​Card} from "@twilio-paste/core/card";
import {Heading} from "@twilio-paste/core/heading";
import {Paragraph} from "@twilio-paste/core/paragraph";
import {Button} from "@twilio-paste/core/button";
import {​Anchor} from "@twilio-paste/core/anchor";
```

## Usage

### General

Use an empty state to explain to a customer why content is unavailable or can't be displayed. Empty states can appear anywhere you display content, and are a good opportunity to improve customer comprehension.

An empty state should:

- **Be clear:** If there's a path forward, explain it as concisely as possible. Include an explanation for why a customer is seeing the empty state if it helps them better understand what to do next.
- **Give direction and educate the customer:** Let customers know what steps they can take to move forward. Guiding them to "Create an alpha sender" is more helpful than saying "No alpha senders".
- **Be encouraging and inspire confidence:** Use a [friendly and approachable tone](/foundations/content/voice-and-tone#encouraging) to ensure a positive experience. Never make customers feel unsuccessful or guilty because they're seeing an empty state. Even when they arrive at a page "in error" (for example, on a page they don't have permissions to), encouraging messaging and an explanation of possible solutions can give customers confidence that they're heading in the right direction.

<Box marginBottom="space70">
  <iframe
    src="https://codesandbox.io/embed/empty-state-with-immediate-next-step-bmxe1?fontsize=14&hidenavigation=1&theme=dark&view=preview"
    style={{width: '100%', height: '350px', border: '0', borderRadius: '4px', overflow: 'hidden'}}
    title="Empty state requiring a customer to wait"
    allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
    sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
  ></iframe>
</Box>

### Composition notes

In most cases, an empty state has a [Heading](/components/heading), a [Paragraph](/components/paragraph), and a call to action. Sometimes, an empty state has an illustration.

#### Heading

The [Heading](/components/heading) should be concise and convey the main takeaway. Use only a heading if there is no additional context to provide.

#### Paragraph

The [Paragraph](/components/paragraph) should provide additional context or information. Describe what the user can do next and the benefit to the user. If there is no more information to convey, omit this component.

#### Call to action (CTA)

The CTA should appear within the empty state, unless the CTA is already on the page when it loads. A CTA separate from the rest of the empty state could draw the user’s attention away from their primary goal.

When there’s no immediate action to be taken, consider making the CTA a way to get back to a previous screen or start a related workflow. This approach is useful when the user is waiting for data to process or for an approval. 

Occasionally, CTAs aren’t necessary. For example, if the empty state is a preview pane and is dependent on the user taking action elsewhere on the page. 

#### Illustrations

Use an illustration only if it’s directly related to the message you’re communicating. Overusing illustrations can minimize their emotional and visual impact. [Learn more about requesting a new illustration](/foundations/illustrations#request-new-illustrations).

### Sizing & Responsiveness

When an empty state card is wider than 540px (recommended), use `padding="space150"`, and align illustrations horizontally with the text content.

In smaller spaces, use `padding="space100"` and stack the illustration in the card above the text content.

If your empty state composition needs to accommodate different screen sizes, you can also wrap it in the Stack or Grid component.

<Callout variant="neutral" marginY="space70">
  <CalloutText>
    If you'd like to contribute guidelines for the empty state pattern in even more compact situations, like a
    navigation panel or components like <Anchor href="/components/combobox">Combobox</Anchor>, please reach out in a{' '}
    <Anchor href="https://github.com/twilio-labs/paste/discussions">GitHub Discussion</Anchor>!
  </CalloutText>
</Callout>

Open the sandbox in a new tab and resize the browser for an example of responsive sizing.

<Box marginBottom="space70">
  <iframe
    src="https://codesandbox.io/embed/empty-state-sizing-responsiveness-euj5p?fontsize=14&hidenavigation=1&theme=dark&view=preview"
    style={{width: '100%', height: '500px', border: '0', borderRadius: '4px', overflow: 'hidden'}}
    title="Empty state requiring a customer to wait"
    allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
    sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
  ></iframe>
</Box>

### Accessibility

For call-to-actions in an empty state, use an [Anchor](/components/anchor) if the action will take the user to a new URL.
In all other cases, use a [Button](/components/button). For detailed guidance on applying this recommendation,
check out the [Button vs. Anchor pattern](/patterns/button-vs-anchor).

## Variations

### First use

These empty states occur during the user’s first interaction with a feature and are an opportunity to educate the user. The content should indicate what the user can expect to see once the area is populated, address the benefit or motivation for taking action, and guide the user to get started. When appropriate, consider opportunities for launching an onboarding flow, in-depth education detail to drive engagement, or starter content like templates.

#### Examples

<Box marginBottom="space70">
  <Table scrollHorizontally>
    <THead>
      <Tr>
        <Th width="200px">Use case</Th>
        <Th>Sample content format</Th>
        <Th width="200px">CTA</Th>
      </Tr>
    </THead>
    <TBody>
      <Tr verticalAlign="top">
        <Td scope="row">A user needs to create something to populate the empty state</Td>
        <Td>
          <b>No [items] yet</b> <br/> To get started [doing task], create [item].
        </Td>
        <Td>Create [item]</Td>
      </Tr>
      <Tr verticalAlign="top">
        <Td scope="row">The system populates the empty state once the user does something</Td>
        <Td><b>No [thing] yet</b> <br/> You haven't [taken an action]. [Take an action], then track [things] here.</Td>
        <Td>Optional</Td>
      </Tr>
    </TBody>
  </Table>
</Box>

### No data
A no data empty state can occur when:
-A search or filter yields no results.
-A user has cleared the data. 
-A user must wait for data to populate.
-A user is waiting for permission/access.

When data is absent due to search parameters, the content should communicate why there is no data and explain what the user could change to populate results. 

When data is absent due to a user waiting for data to populate, consider a CTA leading them back to a previous screen or suggesting a related task. 

#### Examples

<Box marginBottom="space70">
  <Table scrollHorizontally>
    <THead>
      <Tr>
        <Th width="200px">Use case</Th>
        <Th>Sample content format</Th>
        <Th width="200px">CTA</Th>
      </Tr>
    </THead>
    <TBody>
      <Tr verticalAlign="top">
        <Td scope="row">A user ran a search/filter and no results matched the criteria</Td>
        <Td>
          <b>No [thing] matched your search</b> <br/> Try [action].
        </Td>
        <Td>Optional</Td>
      </Tr>
      <Tr verticalAlign="top">
        <Td scope="row">A user is waiting on the system to populate something</Td>
        <Td><b>No [thing] yet</b> <br/> You'll see [thing] here when [something happens].</Td>
        <Td>Optional</Td>
      </Tr>
      <Tr verticalAlign="top">
        <Td scope="row">A user is waiting for access/permissions</Td>
        <Td><b>Your request was submitted</b> <br/> You'll see [thing] here when your request is approved.</Td>
        <Td>Optional</Td>
      </Tr>
      <Tr verticalAlign="top">
        <Td scope="row">A user cleared all the data (like alerts or notifications)</Td>
        <Td><b>No new [things]</b> <br/> To review previous [things], go to [page].</Td>
        <Td>Optional</Td>
      </Tr>
      <Tr verticalAlign="top">
        <Td scope="row">A preview is populated after the user inputs info elsewhere on the page</Td>
        <Td><b>No preview yet</b> <br/> To see what your [thing] will look like, [do a task].</Td>
        <Td>Optional</Td>
      </Tr>
    </TBody>
  </Table>
</Box>

<Box marginBottom="space70">
  <iframe
    src="https://codesandbox.io/embed/empty-state-requiring-a-customer-to-wait-uyxu3?fontsize=14&hidenavigation=1&theme=dark&view=preview"
    style={{width: '100%', height: '350px', border: '0', borderRadius: '4px', overflow: 'hidden'}}
    title="Empty state requiring a customer to wait"
    allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
    sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
  ></iframe>
</Box>

### Error states

Error empty states can result from problems like a system issue or access issue. The content should explain what went wrong and tell the user how to fix the issue. Consider including an error icon to complement the content. If the error empty state occurs in a small component (a card, for example), prioritize communicating how to fix the problem. For error message guidance, review the [error state pattern] (patterns/error-state).

#### Examples

<Box marginBottom="space70">
  <Table scrollHorizontally>
    <THead>
      <Tr>
        <Th width="200px">Use case</Th>
        <Th>Sample content format</Th>
        <Th width="200px">CTA</Th>
      </Tr>
    </THead>
    <TBody>
      <Tr verticalAlign="top">
        <Td scope="row">Something went wrong with the system</Td>
        <Td>
          <b>We could not load [thing]</b> <br/> Try reloading the page.
        </Td>
        <Td>Optional</Td>
      </Tr>
      <Tr verticalAlign="top">
        <Td scope="row">User doesn’t have access or permissions</Td>
        <Td><b>No [thing] yet</b> <br/> You'll see [thing] here when [something happens].</Td>
        <Td>Optional</Td>
      </Tr>
   <Tr verticalAlign="top">
        <Td scope="row">404 page</Td>
        <Td><b>Page not found</b> <br/> he page you're looking for either doesn't exist or was moved.</Td>
        <Td>Go back</Td>
      </Tr>
    </TBody>
  </Table>
</Box>

### Cross-sell and upsell

Use a cross-sell or upsell empty state on pages that give access to parts of a product that need to be purchased by the customer.

Focus the headline on the overall user benefit, with supplemental text providing additional content on the ‘how’. 

Cross-sell and upsell empty states almost always include a CTA to contact Sales and an illustration.

### Compact space

When an empty state appears in a situation with limited space, like a [Combobox] (/components/combobox), confine the empty state to a single sentence using the [Paragraph] (/components/paragraph) component.

### Charts and graphs

For empty states that are eventually replaced by visual components like a chart or graph, consider including information that shows users what the eventual chart or graph would look like. For example, you could include the labels for the x- and y-axes or a muted graphic that shows the type of chart. 

### Multiple empty states on a page

When a page has multiple pieces populated by different data sources, it’s possible to have several empty states at once. Generally, each piece should have its own empty state since they show different types of data and may require unique CTAs.

A possible exception to this is the case where all pieces of the page are simultaneously in an error state. If possible, it is less distracting and distressing to show a single error state for the page than an error state for each piece of the page.

## Dos and Don'ts

<DoDont>
  <Do
    title="Do"
    body="Include a heading that summarizes the situation."
    preview={false}
  />
  <Dont
    title="Don't"
    body="Don't include too many details in a heading. A heading shouldn't be more than 2 lines."
    preview={false}
  />
</DoDont>

<DoDont>
  <Do
    title="Do"
    body="Do use a period in supplemental text."
    preview={false}
  />
  <Dont
    title="Don't"
    body="Don't use a period at the end of a heading."
    preview={false}
  />
</DoDont>

<DoDont>
  <Do
    title="Do"
    body="Include a more detailed explanation of the situation and next steps, when applicable."
    preview={false}
  />
  <Dont
    title="Don't"
    body="Don't repeat the heading copy in supplemental text."
    preview={false}
  />
</DoDont>

<DoDont>
  <Do
    title="Do"
    body="Show a CTA within the empty state."
    preview={false}
  />
  <Dont title="Don't" body="Avoid showing the same CTA twice on a page." preview={false} />
</DoDont>

<DoDont>
  <Do title="Do" body="Limit CTAs to 1 or 2." preview={false} />
  <Dont
    title="Don't"
    body="If 3 or more CTAs are needed, consider grouping them under different headings or other content sections."
    preview={false}
  />
</DoDont>

<DoDont>
  <Do
    title="Do"
    body="Use an illustration that's directly related to the message you are sending."
    preview={false}
  />
  <Dont
    title="Don't"
    body="Don't use a random illustration."
    preview={false}
  />
</DoDont>

## Starter kits

- [Figma](https://www.figma.com/file/S4z0Kqjb9AYosnkRQldLte/Paste-Patterns?node-id=0%3A1)

## What's missing?

If you're interested in contributing more guidelines, please reach out in a [GitHub Discussion](https://github.com/twilio-labs/paste/discussions).

</content>

</contentwrapper>
