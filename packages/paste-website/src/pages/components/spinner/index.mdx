export const meta = {
  title: 'Spinner',
  package: '@twilio-paste/spinner',
  description: 'An icon component that can used in various loading situations.',
  slug: '/components/spinner/',
};

import {Box} from '@twilio-paste/box';
import {Stack} from '@twilio-paste/stack';
import {Spinner} from '@twilio-paste/spinner';
import {Callout, CalloutHeading, CalloutText} from '@twilio-paste/callout';
import {SiteLink} from '../../../components/SiteLink';
import {SidebarCategoryRoutes} from '../../../constants';
import packageJson from '@twilio-paste/spinner/package.json';
import ComponentPageLayout from '../../../layouts/ComponentPageLayout';
import {getFeature, getNavigationData} from '../../../utils/api';

export default ComponentPageLayout;

export const getStaticProps = async () => {
  const navigationData = await getNavigationData();
  const feature = await getFeature('Spinner');
  return {
    props: {
      data: {
        ...packageJson,
        ...feature,
      },
      navigationData,
      mdxHeadings,
      pageHeaderData: {
        categoryRoute: SidebarCategoryRoutes.COMPONENTS,
        githubUrl: 'https://github.com/twilio-labs/paste/tree/main/packages/paste-core/components/spinner',
        storybookUrl: '/?path=/story/components-spinner--colors',
      },
    },
  };
};

<LivePreview
  scope={{
    Spinner,
  }}
>
  {`<Spinner decorative={false} title="Loading" size="sizeIcon80" />`}
</LivePreview>

## Guidelines

### About Spinner

The spinner is an icon component that can be used in situations where you would like to communicate a loading state to the user. It inherits a lot of properties from the [Icon component](/components/icon/usage-guidelines/).

<Callout variant="neutral" marginY="space70">
  <CalloutHeading as="h4">Accessible animation</CalloutHeading>
  <CalloutText>
    The spinner animation will automatically respect user preferences set at the operating system level via the prefers
    reduced motion API.
  </CalloutText>
</Callout>

## Examples

### Default

The default Spinner uses the default text color (`color-text`) and default icon size (`icon-size-20`), which is meant to be paired with our default text size.

<Callout variant="neutral" marginY="space70">
  <CalloutHeading as="h4">Accessibility</CalloutHeading>
  <CalloutText>
    You are required to set whether the Spinner is decorative or not, please follow the{' '}
    <SiteLink href="/components/icon/usage-guidelines#accessibility">icon accessibility guidelines</SiteLink>.
  </CalloutText>
</Callout>

<LivePreview
  scope={{
    Spinner,
  }}
>
  {`<Spinner decorative={false} title="Loading" />`}
</LivePreview>

## Sizing

To resize the Spinner set a `size` prop. It will accept any valid [icon size token](/tokens/list/#sizings) as it's value. These are conveniently designed to be 1:1 to font sizing, e.g. `font-size-40` can be paired with `icon-size-40`.

<LivePreview
  scope={{
    Stack,
    Spinner,
  }}
>
  {`<Stack orientation="horizontal" spacing="space30">
  <Spinner size="sizeIcon10" decorative={false} title="Loading" />
  <Spinner size="sizeIcon20" decorative={false} title="Loading" />
  <Spinner size="sizeIcon30" decorative={false} title="Loading" />
  <Spinner size="sizeIcon40" decorative={false} title="Loading" />
  <Spinner size="sizeIcon50" decorative={false} title="Loading" />
  <Spinner size="sizeIcon60" decorative={false} title="Loading" />
  <Spinner size="sizeIcon70" decorative={false} title="Loading" />
  <Spinner size="sizeIcon80" decorative={false} title="Loading" />
  <Spinner size="sizeIcon90" decorative={false} title="Loading" />
  <Spinner size="sizeIcon100" decorative={false} title="Loading" />
  <Spinner size="sizeIcon110" decorative={false} title="Loading" />
</Stack>`}
</LivePreview>

## Setting a color

The Spinner, like any other icon, can be re-colored to meet your needs. Set an `color` in the [same way you would with an icon](/components/icon/usage-guidelines#adapting-the-icons-color).

<LivePreview
  scope={{
    Stack,
    Spinner,
  }}
>
  {`<Spinner color="colorTextSuccess" decorative={false} title="Loading" />`}
</LivePreview>
